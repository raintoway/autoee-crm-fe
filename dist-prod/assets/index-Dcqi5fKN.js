import{d as E,e as F,b as T,r as s,aw as M,n as G,o as J,c as j,f as a,w as e,u as l,x as U,k as A,F as B,G as K,C as L,H as N,I as O,J as Q,l as W,m as X,E as Z}from"./index-DPENBzsb.js";import{_ as $}from"./ContentWrap.vue_vue_type_script_setup_true_lang-CnIlr_-B.js";import{E as aa}from"./el-tree-select-DxCa0FGQ.js";import{_ as ea}from"./ContractPriceRank.vue_vue_type_script_setup_true_lang-CYhCo9cG.js";import{_ as la}from"./ReceivablePriceRank.vue_vue_type_script_setup_true_lang-D-Kg6VKk.js";import{_ as ra}from"./ContractCountRank.vue_vue_type_script_setup_true_lang-6xm_E_MP.js";import{_ as ta}from"./ProductSalesRank.vue_vue_type_script_setup_true_lang-iU_MlsSO.js";import{_ as oa}from"./CustomerCountRank.vue_vue_type_script_setup_true_lang-BJCR7TuG.js";import{_ as sa}from"./ContactCountRank.vue_vue_type_script_setup_true_lang-Cabf-ML1.js";import{_ as ua}from"./FollowCountRank.vue_vue_type_script_setup_true_lang-Sl__xWgX.js";import{_ as na}from"./FollowCustomerCountRank.vue_vue_type_script_setup_true_lang-H-yykSAW.js";import{h as ma,d as ca}from"./tree-Cts6wVCK.js";import{g as fa}from"./index-BUzABQZW.js";import{f as H,c as da,e as pa,g as ia}from"./formatTime-C7TQtsxQ.js";import"./el-skeleton-item-ByHOrDfP.js";import"./Echart.vue_vue_type_script_setup_true_lang-BK9hPyJ9.js";import"./echarts-MlQSgMpK.js";import"./rank-BiJ5UZci.js";const ka=E({name:"CrmStatisticsRank",__name:"index",setup(ya){const r=F({deptId:T().getUser.deptId,times:[H(da(new Date(new Date().getTime()-6048e5))),H(pa(new Date(new Date().getTime()-864e5)))]}),w=s(),q=s([]),i=s("contractPriceRank"),D=s(),v=s(),h=s(),x=s(),V=s(),z=s(),I=s(),P=s(),C=()=>{var k,t,m,c,f,y,n,_,d,o,p,R,u,g,b,S;switch(i.value){case"contractPriceRank":(t=(k=D.value)==null?void 0:k.loadData)==null||t.call(k);break;case"receivablePriceRank":(c=(m=v.value)==null?void 0:m.loadData)==null||c.call(m);break;case"contractCountRank":(y=(f=h.value)==null?void 0:f.loadData)==null||y.call(f);break;case"productSalesRank":(_=(n=x.value)==null?void 0:n.loadData)==null||_.call(n);break;case"customerCountRank":(o=(d=V.value)==null?void 0:d.loadData)==null||o.call(d);break;case"contactCountRank":(R=(p=z.value)==null?void 0:p.loadData)==null||R.call(p);break;case"followCountRank":(g=(u=I.value)==null?void 0:u.loadData)==null||g.call(u);break;case"followCustomerCountRank":(S=(b=P.value)==null?void 0:b.loadData)==null||S.call(b)}};M(i,()=>{C()});const Y=()=>{w.value.resetFields(),C()};return G(async()=>{q.value=ma(await fa())}),(k,t)=>{const m=K,c=L,f=aa,y=N,n=O,_=Q,d=$,o=W,p=X,R=Z;return J(),j(B,null,[a(d,null,{default:e(()=>[a(_,{class:"-mb-15px",model:l(r),ref_key:"queryFormRef",ref:w,inline:!0,"label-width":"68px"},{default:e(()=>[a(c,{label:"\u65F6\u95F4\u8303\u56F4",prop:"orderDate"},{default:e(()=>[a(m,{modelValue:l(r).times,"onUpdate:modelValue":t[0]||(t[0]=u=>l(r).times=u),shortcuts:l(ia),class:"!w-240px","end-placeholder":"\u7ED3\u675F\u65E5\u671F","start-placeholder":"\u5F00\u59CB\u65E5\u671F",type:"daterange","value-format":"YYYY-MM-DD HH:mm:ss","default-time":[new Date("1 00:00:00"),new Date("1 23:59:59")]},null,8,["modelValue","shortcuts","default-time"])]),_:1}),a(c,{label:"\u5F52\u5C5E\u90E8\u95E8",prop:"deptId"},{default:e(()=>[a(f,{modelValue:l(r).deptId,"onUpdate:modelValue":t[1]||(t[1]=u=>l(r).deptId=u),data:l(q),props:l(ca),"check-strictly":"","node-key":"id",placeholder:"\u8BF7\u9009\u62E9\u5F52\u5C5E\u90E8\u95E8",class:"!w-240px"},null,8,["modelValue","data","props"])]),_:1}),a(c,null,{default:e(()=>[a(n,{onClick:C},{default:e(()=>[a(y,{icon:"ep:search",class:"mr-5px"}),t[3]||(t[3]=U(" \u641C\u7D22"))]),_:1}),a(n,{onClick:Y},{default:e(()=>[a(y,{icon:"ep:refresh",class:"mr-5px"}),t[4]||(t[4]=U(" \u91CD\u7F6E"))]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),a(R,null,{default:e(()=>[a(p,{modelValue:l(i),"onUpdate:modelValue":t[2]||(t[2]=u=>A(i)?i.value=u:null)},{default:e(()=>[a(o,{label:"\u5408\u540C\u91D1\u989D\u6392\u884C",name:"contractPriceRank",lazy:""},{default:e(()=>[a(ea,{"query-params":l(r),ref_key:"contractPriceRankRef",ref:D},null,8,["query-params"])]),_:1}),a(o,{label:"\u56DE\u6B3E\u91D1\u989D\u6392\u884C",name:"receivablePriceRank",lazy:""},{default:e(()=>[a(la,{"query-params":l(r),ref_key:"receivablePriceRankRef",ref:v},null,8,["query-params"])]),_:1}),a(o,{label:"\u7B7E\u7EA6\u5408\u540C\u6392\u884C",name:"contractCountRank",lazy:""},{default:e(()=>[a(ra,{"query-params":l(r),ref_key:"contractCountRankRef",ref:h},null,8,["query-params"])]),_:1}),a(o,{label:"\u4EA7\u54C1\u9500\u91CF\u6392\u884C",name:"productSalesRank",lazy:""},{default:e(()=>[a(ta,{"query-params":l(r),ref_key:"productSalesRankRef",ref:x},null,8,["query-params"])]),_:1}),a(o,{label:"\u65B0\u589E\u5BA2\u6237\u6570\u6392\u884C",name:"customerCountRank",lazy:""},{default:e(()=>[a(oa,{"query-params":l(r),ref_key:"customerCountRankRef",ref:V},null,8,["query-params"])]),_:1}),a(o,{label:"\u65B0\u589E\u8054\u7CFB\u4EBA\u6570\u6392\u884C",name:"contactCountRank",lazy:""},{default:e(()=>[a(sa,{"query-params":l(r),ref_key:"contactCountRankRef",ref:z},null,8,["query-params"])]),_:1}),a(o,{label:"\u8DDF\u8FDB\u6B21\u6570\u6392\u884C",name:"followCountRank",lazy:""},{default:e(()=>[a(ua,{"query-params":l(r),ref_key:"followCountRankRef",ref:I},null,8,["query-params"])]),_:1}),a(o,{label:"\u8DDF\u8FDB\u5BA2\u6237\u6570\u6392\u884C",name:"followCustomerCountRank",lazy:""},{default:e(()=>[a(na,{"query-params":l(r),ref_key:"followCustomerCountRankRef",ref:P},null,8,["query-params"])]),_:1})]),_:1},8,["modelValue"])]),_:1})],64)}}});export{ka as default};
