import{aD as De,d as me,aB as he,o as _,c as Z,t as ce,W as N,aR as Ce,a1 as w,b0 as ee,az as Xe,aA as te,aO as Il,b1 as Mt,b2 as Cl,b3 as Rt,b4 as Tl,b5 as kt,b6 as zt,b7 as Ml,b8 as Pt,b9 as Et,aF as Te,ba as Bt,aI as se,g as q,bb as ue,bc as Rl,bd as kl,be as zl,r as D,u as S,bf as Pl,n as Ze,bg as El,bh as Bl,bi as $l,aS as Se,bj as Me,F as Re,aP as $t,bk as Ll,am as de,bl as Fl,aw as ye,aG as Dl,f as A,aJ as ve,bm as Lt,aE as ke,bn as Hl,bo as Ft,bp as Nl,bq as Al,br as Kl,e as et,bs as Wl,bt as _l,bu as xe,bv as jl,bw as Ul,bx as ql,by as Gl,bz as tt,bA as Ql,a_ as Dt,bB as be,bC as He,bD as Jl,bE as Yl,ak as Xl,aY as Ht,aT as Nt,bF as Zl,bG as At,ay as ea,al as Ne,U as Kt,y as ze,w as U,a3 as pe,p as lt,x as Wt,q as ne,N as Pe,bH as ta,a2 as la,bI as aa,aK as oa,bJ as sa,aL as _t,bK as na,bL as jt,bM as ia,bN as ra,B as at,aj as Ut,bO as qt,T as ca,bP as ua,bQ as da,bR as pa,bS as fa,bT as ma,bU as va,G as ha,bV as ba,bW as ga,bX as Sa,ao as ya,bY as xa,bZ as wa,b_ as Oa,ar as Va,b$ as Ia,h as Ca,c0 as Ta,A as Ma,ai as Ra,c1 as ka,ac as za,c2 as Pa,ag as Ee,M as Ea,J as Ba,$ as $a,c3 as La,s as Fa,i as Da,E as Ha,H as Na,C as Aa,c4 as Ka,_ as Wa}from"./index-DPENBzsb.js";import{H as Gt,V as _a,v as ja,I as Qt,S as Jt,u as Ua,i as Be,R as ot,g as Yt,a as qa,b as Xt,c as Ga,B as Qa,F as Ja,d as st,A as nt,e as Ya,C as Ae,E as Zt,f as el,h as tl,D as Xa}from"./el-virtual-list-DJUlHzXl.js";import{E as Za}from"./el-tree-select-DxCa0FGQ.js";import{I as eo}from"./InputPassword-WwkZ-_gb.js";var to=De(me({props:{item:{type:Object,required:!0},style:{type:Object},height:Number},setup:()=>({ns:he("select")})}),[["render",function(e,o,s,n,c,u){return _(),Z("div",{class:N(e.ns.be("group","title")),style:Ce({...e.style,lineHeight:`${e.height}px`})},ce(e.item.label),7)}],["__file","group-item.vue"]]);const ll={label:"label",value:"value",disabled:"disabled",options:"options"};function Ke(e){const o=w(()=>({...ll,...e.props}));return{aliasProps:o,getLabel:s=>ee(s,o.value.label),getValue:s=>ee(s,o.value.value),getDisabled:s=>ee(s,o.value.disabled),getOptions:s=>ee(s,o.value.options)}}const lo=Xe({allowCreate:Boolean,autocomplete:{type:te(String),default:"none"},automaticDropdown:Boolean,clearable:Boolean,clearIcon:{type:Il,default:Mt},effect:{type:te(String),default:"light"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},defaultFirstOption:Boolean,disabled:Boolean,estimatedOptionHeight:{type:Number,default:void 0},filterable:Boolean,filterMethod:Function,height:{type:Number,default:274},itemHeight:{type:Number,default:34},id:String,loading:Boolean,loadingText:String,modelValue:{type:te([Array,String,Number,Boolean,Object])},multiple:Boolean,multipleLimit:{type:Number,default:0},name:String,noDataText:String,noMatchText:String,remoteMethod:Function,reserveKeyword:{type:Boolean,default:!0},options:{type:te(Array),required:!0},placeholder:{type:String},teleported:Cl.teleported,persistent:{type:Boolean,default:!0},popperClass:{type:String,default:""},popperOptions:{type:te(Object),default:()=>({})},remote:Boolean,size:Rt,props:{type:te(Object),default:()=>ll},valueKey:{type:String,default:"value"},scrollbarAlwaysOn:Boolean,validateEvent:{type:Boolean,default:!0},offset:{type:Number,default:12},showArrow:{type:Boolean,default:!0},placement:{type:te(String),values:Tl,default:"bottom-start"},fallbackPlacements:{type:te(Array),default:["bottom-start","top-start","right","left"]},tagType:{...kt.type,default:"info"},tagEffect:{...kt.effect,default:"light"},tabindex:{type:[String,Number],default:0},appendTo:String,...zt,...Ml(["ariaLabel"])}),ao=Xe({data:Array,disabled:Boolean,hovering:Boolean,item:{type:te(Object),required:!0},index:Number,style:Object,selected:Boolean,created:Boolean}),oo={[Pt]:e=>!0,[Et]:e=>!0,"remove-tag":e=>!0,"visible-change":e=>!0,focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0},so={hover:e=>Te(e),select:(e,o)=>!0},it=Symbol("ElSelectV2Injection"),no=me({props:ao,emits:so,setup(e,{emit:o}){const s=Bt(it),n=he("select"),{hoverItem:c,selectOptionClick:u}=function(m,{emit:f}){return{hoverItem:()=>{m.disabled||f("hover",m.index)},selectOptionClick:()=>{m.disabled||f("select",m.item,m.index)}}}(e,{emit:o}),{getLabel:b}=Ke(s.props);return{ns:n,hoverItem:c,selectOptionClick:u,getLabel:b}}});var io=De(no,[["render",function(e,o,s,n,c,u){return _(),Z("li",{"aria-selected":e.selected,style:Ce(e.style),class:N([e.ns.be("dropdown","item"),e.ns.is("selected",e.selected),e.ns.is("disabled",e.disabled),e.ns.is("created",e.created),e.ns.is("hovering",e.hovering)]),onMousemove:e.hoverItem,onClick:ue(e.selectOptionClick,["stop"])},[se(e.$slots,"default",{item:e.item,index:e.index,disabled:e.disabled},()=>[q("span",null,ce(e.getLabel(e.item)),1)])],46,["aria-selected","onMousemove","onClick"])}],["__file","option-item.vue"]]);const ro={[Gt]:"deltaX",[_a]:"deltaY"},al=({name:e,getOffset:o,getItemSize:s,getItemOffset:n,getEstimatedTotalSize:c,getStartIndexForOffset:u,getStopIndexForStartIndex:b,initCache:m,clearCache:f,validateProps:z})=>me({name:e??"ElVirtualList",props:ja,emits:[Qt,Jt],setup(d,{emit:p,expose:a}){z(d);const B=Ll(),I=he("vl"),t=D(m(d,B)),v=Ua(),x=D(),k=D(),F=D(),r=D({isScrolling:!1,scrollDir:"forward",scrollOffset:Te(d.initScrollOffset)?d.initScrollOffset:0,updateRequested:!1,isScrollbarDragging:!1,scrollbarAlwaysOn:d.scrollbarAlwaysOn}),y=w(()=>{const{total:V,cache:P}=d,{isScrolling:C,scrollDir:R,scrollOffset:L}=S(r);if(V===0)return[0,0,0,0];const H=u(d,L,S(t)),j=b(d,H,L,S(t)),W=C&&R!==Qa?1:Math.max(1,P),ae=C&&R!==Ja?1:Math.max(1,P);return[Math.max(0,H-W),Math.max(0,Math.min(V-1,j+ae)),H,j]}),M=w(()=>c(d,S(t))),h=w(()=>Be(d.layout)),O=w(()=>[{position:"relative",["overflow-"+(h.value?"x":"y")]:"scroll",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:d.direction,height:Te(d.height)?`${d.height}px`:d.height,width:Te(d.width)?`${d.width}px`:d.width},d.style]),E=w(()=>{const V=S(M),P=S(h);return{height:P?"100%":`${V}px`,pointerEvents:S(r).isScrolling?"none":void 0,width:P?`${V}px`:"100%"}}),$=w(()=>h.value?d.width:d.height),{onWheel:K}=(({atEndEdge:V,atStartEdge:P,layout:C},R)=>{let L,H=0;const j=W=>W<0&&P.value||W>0&&V.value;return{hasReachedEdge:j,onWheel:W=>{Rl(L);const ae=W[ro[C.value]];j(H)&&j(H+ae)||(H+=ae,kl()||W.preventDefault(),L=zl(()=>{R(H),H=0}))}}})({atStartEdge:w(()=>r.value.scrollOffset<=0),atEndEdge:w(()=>r.value.scrollOffset>=M.value),layout:w(()=>d.layout)},V=>{var P,C;(C=(P=F.value).onMouseUp)==null||C.call(P),G(Math.min(r.value.scrollOffset+V,M.value-$.value))});Pl(x,"wheel",K,{passive:!1});const J=()=>{const{total:V}=d;if(V>0){const[L,H,j,W]=S(y);p(Qt,L,H,j,W)}const{scrollDir:P,scrollOffset:C,updateRequested:R}=S(r);p(Jt,P,C,R)},G=V=>{(V=Math.max(V,0))!==S(r).scrollOffset&&(r.value={...S(r),scrollOffset:V,scrollDir:st(S(r).scrollOffset,V),updateRequested:!0},de(le))},Q=(V,P=nt)=>{const{scrollOffset:C}=S(r);V=Math.max(0,Math.min(V,d.total-1)),G(o(d,V,P,C,S(t)))},le=()=>{r.value.isScrolling=!1,de(()=>{v.value(-1,null,null)})},ie=()=>{const V=x.value;V&&(V.scrollTop=0)};Ze(()=>{if(!El)return;const{initScrollOffset:V}=d,P=S(x);Te(V)&&P&&(S(h)?P.scrollLeft=V:P.scrollTop=V),J()}),Bl(()=>{const{direction:V,layout:P}=d,{scrollOffset:C,updateRequested:R}=S(r),L=S(x);if(R&&L)if(P===Gt)if(V===ot)switch(Yt()){case Xt:L.scrollLeft=-C;break;case qa:L.scrollLeft=C;break;default:{const{clientWidth:H,scrollWidth:j}=L;L.scrollLeft=j-H-C;break}}else L.scrollLeft=C;else L.scrollTop=C}),$l(()=>{S(x).scrollTop=S(r).scrollOffset});const re={ns:I,clientSize:$,estimatedTotalSize:M,windowStyle:O,windowRef:x,innerRef:k,innerStyle:E,itemsToRender:y,scrollbarRef:F,states:r,getItemStyle:V=>{const{direction:P,itemSize:C,layout:R}=d,L=v.value(f&&C,f&&R,f&&P);let H;if(Fl(L,String(V)))H=L[V];else{const j=n(d,V,S(t)),W=s(d,V,S(t)),ae=S(h),Ve=P===ot,$e=ae?j:0;L[V]=H={position:"absolute",left:Ve?void 0:`${$e}px`,right:Ve?`${$e}px`:void 0,top:ae?0:`${j}px`,height:ae?"100%":`${W}px`,width:ae?`${W}px`:"100%"}}return H},onScroll:V=>{S(h)?(P=>{const{clientWidth:C,scrollLeft:R,scrollWidth:L}=P.currentTarget,H=S(r);if(H.scrollOffset===R)return;const{direction:j}=d;let W=R;if(j===ot)switch(Yt()){case Xt:W=-R;break;case Ya:W=L-C-R}W=Math.max(0,Math.min(W,L-C)),r.value={...H,isScrolling:!0,scrollDir:st(H.scrollOffset,W),scrollOffset:W,updateRequested:!1},de(le)})(V):(P=>{const{clientHeight:C,scrollHeight:R,scrollTop:L}=P.currentTarget,H=S(r);if(H.scrollOffset===L)return;const j=Math.max(0,Math.min(L,R-C));r.value={...H,isScrolling:!0,scrollDir:st(H.scrollOffset,j),scrollOffset:j,updateRequested:!1},de(le)})(V),J()},onScrollbarScroll:(V,P)=>{const C=(M.value-$.value)/P*V;G(Math.min(M.value-$.value,C))},onWheel:K,scrollTo:G,scrollToItem:Q,resetScrollTop:ie};return a({windowRef:x,innerRef:k,getItemStyleCache:v,scrollTo:G,scrollToItem:Q,resetScrollTop:ie,states:r}),re},render(d){var p;const{$slots:a,className:B,clientSize:I,containerElement:t,data:v,getItemStyle:x,innerElement:k,itemsToRender:F,innerStyle:r,layout:y,total:M,onScroll:h,onScrollbarScroll:O,states:E,useIsScrolling:$,windowStyle:K,ns:J}=d,[G,Q]=F,le=Se(t),ie=Se(k),re=[];if(M>0)for(let R=G;R<=Q;R++)re.push(Me(Re,{key:R},(p=a.default)==null?void 0:p.call(a,{data:v,index:R,isScrolling:$?E.isScrolling:void 0,style:x(R)})));const V=[Me(ie,{style:r,ref:"innerRef"},$t(ie)?re:{default:()=>re})],P=Me(Ga,{ref:"scrollbarRef",clientSize:I,layout:y,onScroll:O,ratio:100*I/this.estimatedTotalSize,scrollFrom:E.scrollOffset/(this.estimatedTotalSize-I),total:M}),C=Me(le,{class:[J.e("window"),B],style:K,onScroll:h,ref:"windowRef",key:0},$t(le)?[V]:{default:()=>[V]});return Me("div",{key:0,class:[J.e("wrapper"),E.scrollbarAlwaysOn?"always-on":""]},[C,P])}}),co=al({name:"ElFixedSizeList",getItemOffset:({itemSize:e},o)=>o*e,getItemSize:({itemSize:e})=>e,getEstimatedTotalSize:({total:e,itemSize:o})=>o*e,getOffset:({height:e,total:o,itemSize:s,layout:n,width:c},u,b,m)=>{const f=Be(n)?c:e,z=Math.max(0,o*s-f),d=Math.min(z,u*s),p=Math.max(0,(u+1)*s-f);switch(b===tl&&(b=m>=p-f&&m<=d+f?nt:Ae),b){case el:return d;case Zt:return p;case Ae:{const a=Math.round(p+(d-p)/2);return a<Math.ceil(f/2)?0:a>z+Math.floor(f/2)?z:a}default:return m>=p&&m<=d?m:m<p?p:d}},getStartIndexForOffset:({total:e,itemSize:o},s)=>Math.max(0,Math.min(e-1,Math.floor(s/o))),getStopIndexForStartIndex:({height:e,total:o,itemSize:s,layout:n,width:c},u,b)=>{const m=u*s,f=Be(n)?c:e,z=Math.ceil((f+b-m)/s);return Math.max(0,Math.min(o-1,u+z-1))},initCache(){},clearCache:!0,validateProps(){}}),we=(e,o,s)=>{const{itemSize:n}=e,{items:c,lastVisitedIndex:u}=s;if(o>u){let b=0;if(u>=0){const m=c[u];b=m.offset+m.size}for(let m=u+1;m<=o;m++){const f=n(m);c[m]={offset:b,size:f},b+=f}s.lastVisitedIndex=o}return c[o]},ol=(e,o,s,n,c)=>{for(;s<=n;){const u=s+Math.floor((n-s)/2),b=we(e,u,o).offset;if(b===c)return u;b<c?s=u+1:b>c&&(n=u-1)}return Math.max(0,s-1)},uo=(e,o,s,n)=>{const{total:c}=e;let u=1;for(;s<c&&we(e,s,o).offset<n;)s+=u,u*=2;return ol(e,o,Math.floor(s/2),Math.min(s,c-1),n)},sl=({total:e},{items:o,estimatedItemSize:s,lastVisitedIndex:n})=>{let c=0;if(n>=e&&(n=e-1),n>=0){const u=o[n];c=u.offset+u.size}return c+(e-n-1)*s},po=al({name:"ElDynamicSizeList",getItemOffset:(e,o,s)=>we(e,o,s).offset,getItemSize:(e,o,{items:s})=>s[o].size,getEstimatedTotalSize:sl,getOffset:(e,o,s,n,c)=>{const{height:u,layout:b,width:m}=e,f=Be(b)?m:u,z=we(e,o,c),d=sl(e,c),p=Math.max(0,Math.min(d-f,z.offset)),a=Math.max(0,z.offset-f+z.size);switch(s===tl&&(s=n>=a-f&&n<=p+f?nt:Ae),s){case el:return p;case Zt:return a;case Ae:return Math.round(a+(p-a)/2);default:return n>=a&&n<=p?n:n<a?a:p}},getStartIndexForOffset:(e,o,s)=>((n,c,u)=>{const{items:b,lastVisitedIndex:m}=c;return(m>0?b[m].offset:0)>=u?ol(n,c,0,m,u):uo(n,c,Math.max(0,m),u)})(e,s,o),getStopIndexForStartIndex:(e,o,s,n)=>{const{height:c,total:u,layout:b,width:m}=e,f=Be(b)?m:c,z=we(e,o,n),d=s+f;let p=z.offset+z.size,a=o;for(;a<u-1&&p<d;)a++,p+=we(e,a,n).size;return a},initCache({estimatedItemSize:e=Xa},o){const s={items:{},estimatedItemSize:e,lastVisitedIndex:-1,clearCacheAfterIndex:(n,c=!0)=>{var u,b;s.lastVisitedIndex=Math.min(s.lastVisitedIndex,n-1),(u=o.exposed)==null||u.getItemStyleCache(-1),c&&((b=o.proxy)==null||b.$forceUpdate())}};return s},clearCache:!1,validateProps:({itemSize:e})=>{}}),fo={loading:Boolean,data:{type:Array,required:!0},hoveringIndex:Number,width:Number};var mo=me({name:"ElSelectDropdown",props:fo,setup(e,{slots:o,expose:s}){const n=Bt(it),c=he("select"),{getLabel:u,getValue:b,getDisabled:m}=Ke(n.props),f=D([]),z=D(),d=w(()=>e.data.length);ye(()=>d.value,()=>{var r,y;(y=(r=n.tooltipRef.value).updatePopper)==null||y.call(r)});const p=w(()=>Dl(n.props.estimatedOptionHeight)),a=w(()=>p.value?{itemSize:n.props.itemHeight}:{estimatedSize:n.props.estimatedOptionHeight,itemSize:r=>f.value[r]}),B=(r,y)=>n.props.multiple?((M=[],h)=>{const{props:{valueKey:O}}=n;return ke(h)?M&&M.some(E=>Hl(ee(E,O))===ee(h,O)):M.includes(h)})(r,b(y)):((M,h)=>{if(ke(h)){const{valueKey:O}=n.props;return ee(M,O)===ee(h,O)}return M===h})(r,b(y)),I=(r,y)=>{const{disabled:M,multiple:h,multipleLimit:O}=n.props;return M||!y&&!!h&&O>0&&r.length>=O},t=r=>e.hoveringIndex===r;s({listRef:z,isSized:p,isItemDisabled:I,isItemHovering:t,isItemSelected:B,scrollToItem:r=>{const y=z.value;y&&y.scrollToItem(r)},resetScrollTop:()=>{const r=z.value;r&&r.resetScrollTop()}});const v=r=>{const{index:y,data:M,style:h}=r,O=S(p),{itemSize:E,estimatedSize:$}=S(a),{modelValue:K}=n.props,{onSelect:J,onHover:G}=n,Q=M[y];if(Q.type==="Group")return A(to,{item:Q,style:h,height:O?E:$},null);const le=B(K,Q),ie=I(K,le),re=t(y);return A(io,ve(r,{selected:le,disabled:m(Q)||ie,created:!!Q.created,hovering:re,item:Q,onSelect:J,onHover:G}),{default:V=>{var P;return((P=o.default)==null?void 0:P.call(o,V))||A("span",null,[u(Q)])}})},{onKeyboardNavigate:x,onKeyboardSelect:k}=n,F=r=>{const{code:y}=r,{tab:M,esc:h,down:O,up:E,enter:$,numpadEnter:K}=Lt;switch(y!==M&&(r.preventDefault(),r.stopPropagation()),y){case M:case h:break;case O:x("forward");break;case E:x("backward");break;case $:case K:k()}};return()=>{var r,y,M,h;const{data:O,width:E}=e,{height:$,multiple:K,scrollbarAlwaysOn:J}=n.props,G=S(p)?co:po;return A("div",{class:[c.b("dropdown"),c.is("multiple",K)],style:{width:`${E}px`}},[(r=o.header)==null?void 0:r.call(o),((y=o.loading)==null?void 0:y.call(o))||((M=o.empty)==null?void 0:M.call(o))||A(G,ve({ref:z},S(a),{className:c.be("dropdown","list"),scrollbarAlwaysOn:J,data:O,height:$,width:E,total:O.length,onKeydown:F}),{default:Q=>A(v,Q,null)}),(h=o.footer)==null?void 0:h.call(o)])}}});function vo(e,o){const{aliasProps:s,getLabel:n,getValue:c}=Ke(e),u=D(0),b=D(),m=w(()=>e.allowCreate&&e.filterable);return{createNewOption:function(f){if(m.value)if(f&&f.length>0){if(function(d){const p=a=>n(a)===d;return e.options&&e.options.some(p)||o.createdOptions.some(p)}(f))return;const z={[s.value.value]:f,[s.value.label]:f,created:!0,[s.value.disabled]:!1};o.createdOptions.length>=u.value?o.createdOptions[u.value]=z:o.createdOptions.push(z)}else if(e.multiple)o.createdOptions.length=u.value;else{const z=b.value;o.createdOptions.length=0,z&&z.created&&o.createdOptions.push(z)}},removeNewOption:function(f){if(!m.value||!f||!f.created||f.created&&e.reserveKeyword&&o.inputValue===n(f))return;const z=o.createdOptions.findIndex(d=>c(d)===c(f));~z&&(o.createdOptions.splice(z,1),u.value--)},selectNewOption:function(f){m.value&&(e.multiple&&f.created?u.value++:b.value=f)},clearAllNewOption:function(){m.value&&(o.createdOptions.length=0,u.value=0)}}}const ho=(e,o)=>{const{t:s}=Ft(),n=he("select"),c=he("input"),{form:u,formItem:b}=Nl(),{inputId:m}=Al(e,{formItemContext:b}),{aliasProps:f,getLabel:z,getValue:d,getDisabled:p,getOptions:a}=Ke(e),{valueOnClear:B,isEmptyValue:I}=Kl(e),t=et({inputValue:"",cachedOptions:[],createdOptions:[],hoveringIndex:-1,inputHovering:!1,selectionWidth:0,calculatorWidth:0,collapseItemWidth:0,previousQuery:null,previousValue:void 0,selectedLabel:"",menuVisibleOnFocus:!1,isBeforeHide:!1}),v=D(-1),x=D(),k=D(),F=D(),r=D(),y=D(),M=D(),h=D(),O=D(),E=D(),$=D(),K=D(),{isComposing:J,handleCompositionStart:G,handleCompositionEnd:Q,handleCompositionUpdate:le}=Wl({afterComposition:l=>Ct(l)}),{wrapperRef:ie,isFocused:re,handleBlur:V}=_l(y,{beforeFocus:()=>L.value,afterFocus(){e.automaticDropdown&&!R.value&&(R.value=!0,t.menuVisibleOnFocus=!0)},beforeBlur(l){var i,g;return((i=F.value)==null?void 0:i.isFocusInsideContent(l))||((g=r.value)==null?void 0:g.isFocusInsideContent(l))},afterBlur(){R.value=!1,t.menuVisibleOnFocus=!1}}),P=D([]),C=D([]),R=D(!1),L=w(()=>e.disabled||(u==null?void 0:u.disabled)),H=w(()=>{var l;return(l=u==null?void 0:u.statusIcon)!=null&&l}),j=w(()=>{const l=C.value.length*e.itemHeight;return l>e.height?e.height:l}),W=w(()=>e.multiple?xe(e.modelValue)&&e.modelValue.length>0:!I(e.modelValue)),ae=w(()=>e.clearable&&!L.value&&t.inputHovering&&W.value),Ve=w(()=>e.remote&&e.filterable?"":jl),$e=w(()=>Ve.value&&n.is("reverse",R.value)),We=w(()=>(b==null?void 0:b.validateState)||""),cl=w(()=>{if(We.value)return Ul[We.value]}),ct=w(()=>e.remote?300:0),ut=w(()=>e.loading?e.loadingText||s("el.select.loading"):!(e.remote&&!t.inputValue&&P.value.length===0)&&(e.filterable&&t.inputValue&&P.value.length>0&&C.value.length===0?e.noMatchText||s("el.select.noMatch"):P.value.length===0?e.noDataText||s("el.select.noData"):null)),dt=l=>{const i=g=>{if(e.filterable&&He(e.filterMethod)||e.filterable&&e.remote&&He(e.remoteMethod))return!0;const T=new RegExp(Yl(l),"i");return!l||T.test(z(g)||"")};return e.loading?[]:[...t.createdOptions,...e.options].reduce((g,T)=>{const X=a(T);if(xe(X)){const oe=X.filter(i);oe.length>0&&g.push({label:z(T),type:"Group"},...oe)}else(e.remote||i(T))&&g.push(T);return g},[])},pt=()=>{P.value=dt(""),C.value=dt(t.inputValue)},ft=w(()=>{const l=new Map;return P.value.forEach((i,g)=>{l.set(Y(d(i)),{option:i,index:g})}),l}),Le=w(()=>{const l=new Map;return C.value.forEach((i,g)=>{l.set(Y(d(i)),{option:i,index:g})}),l}),ul=w(()=>C.value.every(l=>p(l))),mt=ql(),dl=w(()=>mt.value==="small"?"small":"default"),vt=()=>{var l;v.value=((l=x.value)==null?void 0:l.offsetWidth)||200},pl=w(()=>{const l=(()=>{if(!k.value)return 0;const i=window.getComputedStyle(k.value);return Number.parseFloat(i.gap||"6px")})();return{maxWidth:`${K.value&&e.maxCollapseTags===1?t.selectionWidth-t.collapseItemWidth-l:t.selectionWidth}px`}}),fl=w(()=>({maxWidth:`${t.selectionWidth}px`})),ml=w(()=>({width:`${Math.max(t.calculatorWidth,11)}px`})),vl=w(()=>xe(e.modelValue)?e.modelValue.length===0&&!t.inputValue:!e.filterable||!t.inputValue),hl=w(()=>{var l;const i=(l=e.placeholder)!=null?l:s("el.select.placeholder");return e.multiple||!W.value?i:t.selectedLabel}),bl=w(()=>{var l,i;return(i=(l=F.value)==null?void 0:l.popperRef)==null?void 0:i.contentRef}),gl=w(()=>{if(e.multiple){const l=e.modelValue.length;if(e.modelValue.length>0&&Le.value.has(e.modelValue[l-1])){const{index:i}=Le.value.get(e.modelValue[l-1]);return i}}else if(!I(e.modelValue)&&Le.value.has(e.modelValue)){const{index:l}=Le.value.get(e.modelValue);return l}return-1}),Sl=w({get:()=>R.value&&ut.value!==!1,set(l){R.value=l}}),yl=w(()=>e.multiple?e.collapseTags?t.cachedOptions.slice(0,e.maxCollapseTags):t.cachedOptions:[]),xl=w(()=>e.multiple&&e.collapseTags?t.cachedOptions.slice(e.maxCollapseTags):[]),{createNewOption:ht,removeNewOption:_e,selectNewOption:bt,clearAllNewOption:je}=vo(e,t),Ue=()=>{L.value||(t.menuVisibleOnFocus?t.menuVisibleOnFocus=!1:R.value=!R.value)},gt=()=>{t.inputValue.length>0&&!R.value&&(R.value=!0),ht(t.inputValue),qe(t.inputValue)},St=Gl(gt,ct.value),qe=l=>{t.previousQuery===l||J.value||(t.previousQuery=l,e.filterable&&He(e.filterMethod)?e.filterMethod(l):e.filterable&&e.remote&&He(e.remoteMethod)&&e.remoteMethod(l),e.defaultFirstOption&&(e.filterable||e.remote)&&C.value.length?de(wl):de(Ol))},wl=()=>{const l=C.value.filter(T=>!T.disabled&&T.type!=="Group"),i=l.find(T=>T.created),g=l[0];t.hoveringIndex=Ge(C.value,i||g)},Ie=l=>{o(Pt,l),(i=>{tt(e.modelValue,i)||o(Et,i)})(l),t.previousValue=e.multiple?String(l):l},Ge=(l=[],i)=>{if(!ke(i))return l.indexOf(i);const g=e.valueKey;let T=-1;return l.some((X,oe)=>ee(X,g)===ee(i,g)&&(T=oe,!0)),T},Y=l=>ke(l)?ee(l,e.valueKey):l,yt=()=>{vt()},xt=()=>{t.selectionWidth=k.value.getBoundingClientRect().width},wt=()=>{t.calculatorWidth=M.value.getBoundingClientRect().width},Qe=()=>{var l,i;(i=(l=F.value)==null?void 0:l.updatePopper)==null||i.call(l)},Ot=()=>{var l,i;(i=(l=r.value)==null?void 0:l.updatePopper)==null||i.call(l)},Vt=l=>{if(e.multiple){let i=e.modelValue.slice();const g=Ge(i,d(l));g>-1?(i=[...i.slice(0,g),...i.slice(g+1)],t.cachedOptions.splice(g,1),_e(l)):(e.multipleLimit<=0||i.length<e.multipleLimit)&&(i=[...i,d(l)],t.cachedOptions.push(l),bt(l)),Ie(i),l.created&&qe(""),e.filterable&&!e.reserveKeyword&&(t.inputValue="")}else t.selectedLabel=z(l),Ie(d(l)),R.value=!1,bt(l),l.created||je();Fe()},Fe=()=>{var l;(l=y.value)==null||l.focus()},It=(l,i=void 0)=>{const g=C.value;if(!["forward","backward"].includes(l)||L.value||g.length<=0||ul.value||J.value)return;if(!R.value)return Ue();i===void 0&&(i=t.hoveringIndex);let T=-1;l==="forward"?(T=i+1,T>=g.length&&(T=0)):l==="backward"&&(T=i-1,(T<0||T>=g.length)&&(T=g.length-1));const X=g[T];if(p(X)||X.type==="Group")return It(l,T);t.hoveringIndex=T,Je(T)},Ol=()=>{e.multiple?t.hoveringIndex=C.value.findIndex(l=>e.modelValue.some(i=>Y(i)===Y(l))):t.hoveringIndex=C.value.findIndex(l=>Y(l)===Y(e.modelValue))},Ct=l=>{if(t.inputValue=l.target.value,!e.remote)return gt();St()},Je=l=>{E.value.scrollToItem(l)},Vl=(l,i)=>{const g=Y(l);if(ft.value.has(g)){const{option:T}=ft.value.get(g);return T}if(i&&i.length){const T=i.find(X=>Y(d(X))===g);if(T)return T}return{[f.value.value]:l,[f.value.label]:l}},Ye=(l=!1)=>{if(e.multiple)if(e.modelValue.length>0){const i=t.cachedOptions.slice();t.cachedOptions.length=0,t.previousValue=e.modelValue.toString();for(const g of e.modelValue){const T=Vl(g,i);t.cachedOptions.push(T)}}else t.cachedOptions=[],t.previousValue=void 0;else if(W.value){t.previousValue=e.modelValue;const i=C.value,g=i.findIndex(T=>Y(d(T))===Y(e.modelValue));~g?t.selectedLabel=z(i[g]):t.selectedLabel&&!l||(t.selectedLabel=Y(e.modelValue))}else t.selectedLabel="",t.previousValue=void 0;je(),vt()};return ye(R,l=>{l?qe(""):(t.inputValue="",t.previousQuery=null,t.isBeforeHide=!0,ht("")),o("visible-change",l)}),ye(()=>e.modelValue,(l,i)=>{var g;(!l||xe(l)&&l.length===0||e.multiple&&!tt(l.toString(),t.previousValue)||!e.multiple&&Y(l)!==Y(t.previousValue))&&Ye(!0),!tt(l,i)&&e.validateEvent&&((g=b==null?void 0:b.validate)==null||g.call(b,"change").catch(T=>Ql()))},{deep:!0}),ye(()=>e.options,()=>{const l=y.value;(!l||l&&document.activeElement!==l)&&Ye()},{deep:!0,flush:"post"}),ye(()=>C.value,()=>E.value&&de(E.value.resetScrollTop)),Dt(()=>{t.isBeforeHide||pt()}),Dt(()=>{const{valueKey:l,options:i}=e,g=new Map;for(const T of i){const X=d(T);let oe=X;if(ke(oe)&&(oe=ee(X,l)),g.get(oe))break;g.set(oe,!0)}}),Ze(()=>{Ye()}),be(x,yt),be(k,xt),be(M,wt),be(E,Qe),be(ie,Qe),be($,Ot),be(K,()=>{t.collapseItemWidth=K.value.getBoundingClientRect().width}),{inputId:m,collapseTagSize:dl,currentPlaceholder:hl,expanded:R,emptyText:ut,popupHeight:j,debounce:ct,allOptions:P,filteredOptions:C,iconComponent:Ve,iconReverse:$e,tagStyle:pl,collapseTagStyle:fl,inputStyle:ml,popperSize:v,dropdownMenuVisible:Sl,hasModelValue:W,shouldShowPlaceholder:vl,selectDisabled:L,selectSize:mt,needStatusIcon:H,showClearBtn:ae,states:t,isFocused:re,nsSelect:n,nsInput:c,calculatorRef:M,inputRef:y,menuRef:E,tagMenuRef:$,tooltipRef:F,tagTooltipRef:r,selectRef:x,wrapperRef:ie,selectionRef:k,prefixRef:h,suffixRef:O,collapseItemRef:K,popperRef:bl,validateState:We,validateIcon:cl,showTagList:yl,collapseTagList:xl,debouncedOnInputChange:St,deleteTag:(l,i)=>{let g=e.modelValue.slice();const T=Ge(g,d(i));T>-1&&!L.value&&(g=[...e.modelValue.slice(0,T),...e.modelValue.slice(T+1)],t.cachedOptions.splice(T,1),Ie(g),o("remove-tag",d(i)),_e(i)),l.stopPropagation(),Fe()},getLabel:z,getValue:d,getDisabled:p,getValueKey:Y,handleClear:()=>{let l;l=xe(e.modelValue)?[]:B.value,e.multiple?t.cachedOptions=[]:t.selectedLabel="",R.value=!1,Ie(l),o("clear"),je(),Fe()},handleClickOutside:l=>{if(R.value=!1,re.value){const i=new FocusEvent("focus",l);V(i)}},handleDel:l=>{if(e.multiple&&l.code!==Lt.delete&&t.inputValue.length===0){l.preventDefault();const i=e.modelValue.slice(),g=Jl(i,oe=>!t.cachedOptions.some(Tt=>d(Tt)===oe&&p(Tt)));if(g<0)return;const T=i[g];i.splice(g,1);const X=t.cachedOptions[g];t.cachedOptions.splice(g,1),_e(X),Ie(i),o("remove-tag",T)}},handleEsc:()=>{t.inputValue.length>0?t.inputValue="":R.value=!1},focus:Fe,blur:()=>{var l;if(R.value)return R.value=!1,void de(()=>{var i;return(i=y.value)==null?void 0:i.blur()});(l=y.value)==null||l.blur()},handleMenuEnter:()=>(t.isBeforeHide=!1,de(()=>{~gl.value&&Je(t.hoveringIndex)})),handleResize:yt,resetSelectionWidth:xt,resetCalculatorWidth:wt,updateTooltip:Qe,updateTagTooltip:Ot,updateOptions:pt,toggleMenu:Ue,scrollTo:Je,onInput:Ct,onKeyboardNavigate:It,onKeyboardSelect:()=>{if(!R.value)return Ue();~t.hoveringIndex&&C.value[t.hoveringIndex]&&Vt(C.value[t.hoveringIndex])},onSelect:Vt,onHover:l=>{t.hoveringIndex=l??-1},handleCompositionStart:G,handleCompositionEnd:Q,handleCompositionUpdate:le}},bo=me({name:"ElSelectV2",components:{ElSelectMenu:mo,ElTag:Xl,ElTooltip:Ht,ElIcon:Nt},directives:{ClickOutside:Zl},props:lo,emits:oo,setup(e,{emit:o}){const s=w(()=>{const{modelValue:u,multiple:b}=e,m=b?[]:void 0;return xe(u)?b?u:m:b?m:u}),n=ho(et({...At(e),modelValue:s}),o);ea(it,{props:et({...At(e),height:n.popupHeight,modelValue:s}),expanded:n.expanded,tooltipRef:n.tooltipRef,onSelect:n.onSelect,onHover:n.onHover,onKeyboardNavigate:n.onKeyboardNavigate,onKeyboardSelect:n.onKeyboardSelect});const c=w(()=>e.multiple?n.states.cachedOptions.map(u=>u.label):n.states.selectedLabel);return{...n,modelValue:s,selectedLabel:c}}}),go=_t(De(bo,[["render",function(e,o,s,n,c,u){const b=Ne("el-tag"),m=Ne("el-tooltip"),f=Ne("el-icon"),z=Ne("el-select-menu"),d=Kt("click-outside");return ze((_(),Z("div",{ref:"selectRef",class:N([e.nsSelect.b(),e.nsSelect.m(e.selectSize)]),onMouseenter:p=>e.states.inputHovering=!0,onMouseleave:p=>e.states.inputHovering=!1},[A(m,{ref:"tooltipRef",visible:e.dropdownMenuVisible,teleported:e.teleported,"popper-class":[e.nsSelect.e("popper"),e.popperClass],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"popper-options":e.popperOptions,"fallback-placements":e.fallbackPlacements,effect:e.effect,placement:e.placement,pure:"",transition:`${e.nsSelect.namespace.value}-zoom-in-top`,trigger:"click",persistent:e.persistent,"append-to":e.appendTo,"show-arrow":e.showArrow,offset:e.offset,onBeforeShow:e.handleMenuEnter,onHide:p=>e.states.isBeforeHide=!1},{default:U(()=>[q("div",{ref:"wrapperRef",class:N([e.nsSelect.e("wrapper"),e.nsSelect.is("focused",e.isFocused),e.nsSelect.is("hovering",e.states.inputHovering),e.nsSelect.is("filterable",e.filterable),e.nsSelect.is("disabled",e.selectDisabled)]),onClick:ue(e.toggleMenu,["prevent"])},[e.$slots.prefix?(_(),Z("div",{key:0,ref:"prefixRef",class:N(e.nsSelect.e("prefix"))},[se(e.$slots,"prefix")],2)):pe("v-if",!0),q("div",{ref:"selectionRef",class:N([e.nsSelect.e("selection"),e.nsSelect.is("near",e.multiple&&!e.$slots.prefix&&!!e.modelValue.length)])},[e.multiple?se(e.$slots,"tag",{key:0},()=>[(_(!0),Z(Re,null,lt(e.showTagList,p=>(_(),Z("div",{key:e.getValueKey(e.getValue(p)),class:N(e.nsSelect.e("selected-item"))},[A(b,{closable:!e.selectDisabled&&!e.getDisabled(p),size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",style:Ce(e.tagStyle),onClose:a=>e.deleteTag(a,p)},{default:U(()=>[q("span",{class:N(e.nsSelect.e("tags-text"))},[se(e.$slots,"label",{label:e.getLabel(p),value:e.getValue(p)},()=>[Wt(ce(e.getLabel(p)),1)])],2)]),_:2},1032,["closable","size","type","effect","style","onClose"])],2))),128)),e.collapseTags&&e.modelValue.length>e.maxCollapseTags?(_(),ne(m,{key:0,ref:"tagTooltipRef",disabled:e.dropdownMenuVisible||!e.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom",teleported:e.teleported},{default:U(()=>[q("div",{ref:"collapseItemRef",class:N(e.nsSelect.e("selected-item"))},[A(b,{closable:!1,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,style:Ce(e.collapseTagStyle),"disable-transitions":""},{default:U(()=>[q("span",{class:N(e.nsSelect.e("tags-text"))}," + "+ce(e.modelValue.length-e.maxCollapseTags),3)]),_:1},8,["size","type","effect","style"])],2)]),content:U(()=>[q("div",{ref:"tagMenuRef",class:N(e.nsSelect.e("selection"))},[(_(!0),Z(Re,null,lt(e.collapseTagList,p=>(_(),Z("div",{key:e.getValueKey(e.getValue(p)),class:N(e.nsSelect.e("selected-item"))},[A(b,{class:"in-tooltip",closable:!e.selectDisabled&&!e.getDisabled(p),size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",onClose:a=>e.deleteTag(a,p)},{default:U(()=>[q("span",{class:N(e.nsSelect.e("tags-text"))},[se(e.$slots,"label",{label:e.getLabel(p),value:e.getValue(p)},()=>[Wt(ce(e.getLabel(p)),1)])],2)]),_:2},1032,["closable","size","type","effect","onClose"])],2))),128))],2)]),_:3},8,["disabled","effect","teleported"])):pe("v-if",!0)]):pe("v-if",!0),q("div",{class:N([e.nsSelect.e("selected-item"),e.nsSelect.e("input-wrapper"),e.nsSelect.is("hidden",!e.filterable)])},[ze(q("input",{id:e.inputId,ref:"inputRef","onUpdate:modelValue":p=>e.states.inputValue=p,style:Ce(e.inputStyle),autocomplete:e.autocomplete,tabindex:e.tabindex,"aria-autocomplete":"list","aria-haspopup":"listbox",autocapitalize:"off","aria-expanded":e.expanded,"aria-label":e.ariaLabel,class:N([e.nsSelect.e("input"),e.nsSelect.is(e.selectSize)]),disabled:e.selectDisabled,role:"combobox",readonly:!e.filterable,spellcheck:"false",type:"text",name:e.name,onInput:e.onInput,onCompositionstart:e.handleCompositionStart,onCompositionupdate:e.handleCompositionUpdate,onCompositionend:e.handleCompositionEnd,onKeydown:[Pe(ue(p=>e.onKeyboardNavigate("backward"),["stop","prevent"]),["up"]),Pe(ue(p=>e.onKeyboardNavigate("forward"),["stop","prevent"]),["down"]),Pe(ue(e.onKeyboardSelect,["stop","prevent"]),["enter"]),Pe(ue(e.handleEsc,["stop","prevent"]),["esc"]),Pe(ue(e.handleDel,["stop"]),["delete"])],onClick:ue(e.toggleMenu,["stop"])},null,46,["id","onUpdate:modelValue","autocomplete","tabindex","aria-expanded","aria-label","disabled","readonly","name","onInput","onCompositionstart","onCompositionupdate","onCompositionend","onKeydown","onClick"]),[[ta,e.states.inputValue]]),e.filterable?(_(),Z("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:N(e.nsSelect.e("input-calculator")),textContent:ce(e.states.inputValue)},null,10,["textContent"])):pe("v-if",!0)],2),e.shouldShowPlaceholder?(_(),Z("div",{key:1,class:N([e.nsSelect.e("selected-item"),e.nsSelect.e("placeholder"),e.nsSelect.is("transparent",!e.hasModelValue||e.expanded&&!e.states.inputValue)])},[e.hasModelValue?se(e.$slots,"label",{key:0,label:e.currentPlaceholder,value:e.modelValue},()=>[q("span",null,ce(e.currentPlaceholder),1)]):(_(),Z("span",{key:1},ce(e.currentPlaceholder),1))],2)):pe("v-if",!0)],2),q("div",{ref:"suffixRef",class:N(e.nsSelect.e("suffix"))},[e.iconComponent?ze((_(),ne(f,{key:0,class:N([e.nsSelect.e("caret"),e.nsInput.e("icon"),e.iconReverse])},{default:U(()=>[(_(),ne(Se(e.iconComponent)))]),_:1},8,["class"])),[[la,!e.showClearBtn]]):pe("v-if",!0),e.showClearBtn&&e.clearIcon?(_(),ne(f,{key:1,class:N([e.nsSelect.e("caret"),e.nsInput.e("icon"),e.nsSelect.e("clear")]),onClick:ue(e.handleClear,["prevent","stop"])},{default:U(()=>[(_(),ne(Se(e.clearIcon)))]),_:1},8,["class","onClick"])):pe("v-if",!0),e.validateState&&e.validateIcon&&e.needStatusIcon?(_(),ne(f,{key:2,class:N([e.nsInput.e("icon"),e.nsInput.e("validateIcon")])},{default:U(()=>[(_(),ne(Se(e.validateIcon)))]),_:1},8,["class"])):pe("v-if",!0)],2)],10,["onClick"])]),content:U(()=>[A(z,{ref:"menuRef",data:e.filteredOptions,width:e.popperSize,"hovering-index":e.states.hoveringIndex,"scrollbar-always-on":e.scrollbarAlwaysOn},aa({default:U(p=>[se(e.$slots,"default",oa(sa(p)))]),_:2},[e.$slots.header?{name:"header",fn:U(()=>[q("div",{class:N(e.nsSelect.be("dropdown","header"))},[se(e.$slots,"header")],2)])}:void 0,e.$slots.loading&&e.loading?{name:"loading",fn:U(()=>[q("div",{class:N(e.nsSelect.be("dropdown","loading"))},[se(e.$slots,"loading")],2)])}:e.loading||e.filteredOptions.length===0?{name:"empty",fn:U(()=>[q("div",{class:N(e.nsSelect.be("dropdown","empty"))},[se(e.$slots,"empty",{},()=>[q("span",null,ce(e.emptyText),1)])],2)])}:void 0,e.$slots.footer?{name:"footer",fn:U(()=>[q("div",{class:N(e.nsSelect.be("dropdown","footer"))},[se(e.$slots,"footer")],2)])}:void 0]),1032,["data","width","hovering-index","scrollbar-always-on"])]),_:3},8,["visible","teleported","popper-class","popper-options","fallback-placements","effect","placement","transition","persistent","append-to","show-arrow","offset","onBeforeShow","onHide"])],42,["onMouseenter","onMouseleave"])),[[d,e.handleClickOutside,e.popperRef]])}],["__file","select.vue"]])),So=Xe({format:{type:String,default:"HH:mm"},modelValue:String,disabled:Boolean,editable:{type:Boolean,default:!0},effect:{type:te(String),default:"light"},clearable:{type:Boolean,default:!0},size:Rt,placeholder:String,start:{type:String,default:"09:00"},end:{type:String,default:"18:00"},step:{type:String,default:"00:30"},minTime:String,maxTime:String,name:String,prefixIcon:{type:te([String,Object]),default:()=>na},clearIcon:{type:te([String,Object]),default:()=>Mt},...zt}),fe=e=>{const o=(e||"").split(":");if(o.length>=2){let s=Number.parseInt(o[0],10);const n=Number.parseInt(o[1],10),c=e.toUpperCase();return c.includes("AM")&&s===12?s=0:c.includes("PM")&&s!==12&&(s+=12),{hours:s,minutes:n}}return null},rt=(e,o)=>{const s=fe(e);if(!s)return-1;const n=fe(o);if(!n)return-1;const c=s.minutes+60*s.hours,u=n.minutes+60*n.hours;return c===u?0:c>u?1:-1},nl=e=>`${e}`.padStart(2,"0"),Oe=e=>`${nl(e.hours)}:${nl(e.minutes)}`,yo=(e,o)=>{const s=fe(e);if(!s)return"";const n=fe(o);if(!n)return"";const c={hours:s.hours,minutes:s.minutes};return c.minutes+=n.minutes,c.hours+=n.hours,c.hours+=Math.floor(c.minutes/60),c.minutes=c.minutes%60,Oe(c)},xo=me({name:"ElTimeSelect"}),wo=me({...xo,props:So,emits:["change","blur","focus","clear","update:modelValue"],setup(e,{expose:o}){const s=e;jt.extend(ia);const{Option:n}=at,c=he("input"),u=D(),b=ra(),{lang:m}=Ft(),f=w(()=>s.modelValue),z=w(()=>{const t=fe(s.start);return t?Oe(t):null}),d=w(()=>{const t=fe(s.end);return t?Oe(t):null}),p=w(()=>{const t=fe(s.step);return t?Oe(t):null}),a=w(()=>{const t=fe(s.minTime||"");return t?Oe(t):null}),B=w(()=>{const t=fe(s.maxTime||"");return t?Oe(t):null}),I=w(()=>{const t=[];if(s.start&&s.end&&s.step){let v,x=z.value;for(;x&&d.value&&rt(x,d.value)<=0;)v=jt(x,"HH:mm").locale(m.value).format(s.format),t.push({value:v,disabled:rt(x,a.value||"-1:-1")<=0||rt(x,B.value||"100:100")>=0}),x=yo(x,p.value)}return t});return o({blur:()=>{var t,v;(v=(t=u.value)==null?void 0:t.blur)==null||v.call(t)},focus:()=>{var t,v;(v=(t=u.value)==null?void 0:t.focus)==null||v.call(t)}}),(t,v)=>(_(),ne(S(at),{ref_key:"select",ref:u,"model-value":S(f),disabled:S(b),clearable:t.clearable,"clear-icon":t.clearIcon,size:t.size,effect:t.effect,placeholder:t.placeholder,"default-first-option":"",filterable:t.editable,"empty-values":t.emptyValues,"value-on-clear":t.valueOnClear,"onUpdate:modelValue":x=>t.$emit("update:modelValue",x),onChange:x=>t.$emit("change",x),onBlur:x=>t.$emit("blur",x),onFocus:x=>t.$emit("focus",x),onClear:()=>t.$emit("clear")},{prefix:U(()=>[t.prefixIcon?(_(),ne(S(Nt),{key:0,class:N(S(c).e("prefix-icon"))},{default:U(()=>[(_(),ne(Se(t.prefixIcon)))]),_:1},8,["class"])):pe("v-if",!0)]),default:U(()=>[(_(!0),Z(Re,null,lt(S(I),x=>(_(),ne(S(n),{key:x.value,label:x.value,value:x.value,disabled:x.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["model-value","disabled","clearable","clear-icon","size","effect","placeholder","filterable","empty-values","value-on-clear","onUpdate:modelValue","onChange","onBlur","onFocus","onClear"]))}}),Oo=_t(De(wo,[["__file","time-select.vue"]])),il={Radio:Ut,Checkbox:qt,CheckboxButton:qt,Input:ca,Autocomplete:ua,InputNumber:da,Select:at,Cascader:pa,Switch:fa,Slider:ma,TimePicker:va,DatePicker:ha,Rate:ba,ColorPicker:ga,Transfer:Sa,Divider:ya,TimeSelect:Oo,SelectV2:go,TreeSelect:Za,RadioButton:Ut,InputPassword:eo,Editor:xa,UploadImg:wa,UploadImgs:Oa,UploadFile:Va},ge=(e,o="default",s)=>{if(!e||!Reflect.has(e,o)||!Ia(e[o]))return null;const n=e[o];return n?n(s):null},Vo=(e,o={},s)=>{const n={};for(const c in o)o[c]&&(n[c]=u=>ge(e,`${s}-${c}`,u));return n};function rl(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Ka(e)}const{getPrefixCls:Io}=$a(),Co=Io("form"),To=me({name:"Form",props:{schema:{type:Array,default:()=>[]},isCol:Ee.bool.def(!1),model:{type:Object,default:()=>({})},autoSetPlaceholder:Ee.bool.def(!0),isCustom:Ee.bool.def(!1),labelWidth:Ee.oneOfType([String,Number]).def("auto"),vLoading:Ee.bool.def(!1)},emits:["register"],setup(e,{slots:o,expose:s,emit:n}){const c=D(),u=D({}),b=D({}),m=w(()=>{const a={...e};return Object.assign(a,S(b)),a}),f=D({});Ze(()=>{var a;n("register",(a=S(c))==null?void 0:a.$parent,S(c))}),s({setValues:(a={})=>{f.value=Object.assign(S(f),a)},formModel:f,setProps:(a={})=>{b.value=Object.assign(S(b),a),u.value=a},delSchema:a=>{const{schema:B}=S(m),I=La(B,t=>t.field===a);I>-1&&B.splice(I,1)},addSchema:(a,B)=>{const{schema:I}=S(m);B===void 0?I.push(a):I.splice(B,0,a)},setSchema:a=>{const{schema:B}=S(m);for(const I of B)for(const t of a)I.field===t.field&&Fa(I,t.path,t.value)},getElFormRef:()=>S(c)}),ye(()=>S(m).schema,(a=[])=>{f.value=((B,I)=>{const t={...I};return B.map(v=>{if(v.hidden)delete t[v.field];else if(v.component&&v.component!=="Divider"){const x=Reflect.has(t,v.field);t[v.field]=x?t[v.field]:v.value!==void 0?v.value:""}}),t})(a,S(f))},{immediate:!0,deep:!0});const z=()=>{const{schema:a=[],isCol:B}=S(m);return a.filter(I=>!I.hidden).map(I=>{let t;return I.component==="Divider"?A(il.Divider,{contentPosition:"left",...I.componentProps},{default:()=>[I==null?void 0:I.label]}):B?A(Ha,((v={})=>({...v.span?{}:{xs:24,sm:12,md:12,lg:12,xl:12},...v}))(I.colProps),rl(t=d(I))?t:{default:()=>[t]}):d(I)})},d=a=>{var v,x;const B=["SelectV2","Cascader","Transfer"],I={...Vo(o,(v=a==null?void 0:a.componentProps)==null?void 0:v.slots,a.field)};(a==null?void 0:a.component)!=="SelectV2"&&(a==null?void 0:a.component)!=="Cascader"&&((x=a==null?void 0:a.componentProps)!=null&&x.options)&&(I.default=()=>p(a));const t=((k,F)=>{const r={};return k[`${F}-error`]&&(r.error=y=>ge(k,`${F}-error`,y)),k[`${F}-label`]&&(r.label=y=>ge(k,`${F}-label`,y)),r})(o,a.field);return a!=null&&a.labelMessage&&(t.label=()=>A(Re,null,[A("span",null,[a.label]),A(Ht,{placement:"right","raw-content":!0},{content:()=>ze(A("span",null,null),[[Kt("dompurify-html"),a.labelMessage]]),default:()=>A(Na,{icon:"ep:warning",size:16,color:"var(--el-color-primary)",class:"relative top-1px ml-2px"},null)})])),A(Aa,ve(a.formItemProps||{},{prop:a.field,label:a.label||""}),{...t,default:()=>{var r,y,M;const k=il[a.component],{autoSetPlaceholder:F}=S(m);return o[a.field]?ge(o,a.field,f.value):A(k,ve({modelValue:f.value[a.field],"onUpdate:modelValue":h=>f.value[a.field]=h},F&&(h=>{var E,$;const{t:O}=Ca();return["Input","Autocomplete","InputNumber","InputPassword"].includes(h==null?void 0:h.component)?{placeholder:O("common.inputText")+h.label}:["Select","SelectV2","TimePicker","DatePicker","TimeSelect","TimeSelect"].includes(h==null?void 0:h.component)?["datetimerange","daterange","monthrange","datetimerange","daterange"].includes(((E=h==null?void 0:h.componentProps)==null?void 0:E.type)||(($=h==null?void 0:h.componentProps)==null?void 0:$.isRange))?{startPlaceholder:O("common.startTimeText"),endPlaceholder:O("common.endTimeText"),rangeSeparator:"-"}:{placeholder:O("common.selectText")+h.label}:{}})(a),(h=>{const O=["ColorPicker"].includes(h.component)?{...h.componentProps}:{clearable:!0,...h.componentProps};return O==null||delete O.slots,O})(a),{style:(r=a.componentProps)==null?void 0:r.style},B.includes(a==null?void 0:a.component)&&((y=a==null?void 0:a.componentProps)!=null&&y.options)?{options:((M=a==null?void 0:a.componentProps)==null?void 0:M.options)||[]}:{}),{...I})}})},p=a=>{switch(a.component){case"Select":case"SelectV2":const{renderSelectOptions:B}=(v=>{const x=(k,F)=>{var E,$,K,J;const r=($=(E=k==null?void 0:k.componentProps)==null?void 0:E.optionsAlias)==null?void 0:$.labelField,y=(J=(K=k==null?void 0:k.componentProps)==null?void 0:K.optionsAlias)==null?void 0:J.valueField,{label:M,value:h,...O}=F;return A(Ma,ve(O,{label:r?F[r]:M,value:y?F[y]:h}),{default:()=>{var G;return(G=k==null?void 0:k.componentProps)!=null&&G.optionsSlot?ge(v,`${k.field}-option`,{item:F}):void 0}})};return{renderSelectOptions:k=>{var r,y,M,h;const F=(y=(r=k==null?void 0:k.componentProps)==null?void 0:r.optionsAlias)==null?void 0:y.labelField;return(h=(M=k==null?void 0:k.componentProps)==null?void 0:M.options)==null?void 0:h.map(O=>{var E;return(E=O==null?void 0:O.options)!=null&&E.length?A(Ta,{label:O[F||"label"]},{default:()=>{var $;return($=O==null?void 0:O.options)==null?void 0:$.map(K=>x(k,K))}}):x(k,O)})}}})(o);return B(a);case"Radio":case"RadioButton":const{renderRadioOptions:I}={renderRadioOptions:v=>{var r,y,M,h,O,E;const x=(y=(r=v==null?void 0:v.componentProps)==null?void 0:r.optionsAlias)==null?void 0:y.labelField,k=(h=(M=v==null?void 0:v.componentProps)==null?void 0:M.optionsAlias)==null?void 0:h.valueField,F=v.component==="Radio"?Ra:ka;return(E=(O=v==null?void 0:v.componentProps)==null?void 0:O.options)==null?void 0:E.map($=>{const{...K}=$;return A(F,ve(K,{label:$[k||"value"]}),{default:()=>[$[x||"label"]]})})}};return I(a);case"Checkbox":case"CheckboxButton":const{renderCheckboxOptions:t}={renderCheckboxOptions:v=>{var r,y,M,h,O,E;const x=(y=(r=v==null?void 0:v.componentProps)==null?void 0:r.optionsAlias)==null?void 0:y.labelField,k=(h=(M=v==null?void 0:v.componentProps)==null?void 0:M.optionsAlias)==null?void 0:h.valueField,F=v.component==="Checkbox"?za:Pa;return(E=(O=v==null?void 0:v.componentProps)==null?void 0:O.options)==null?void 0:E.map($=>{const{...K}=$;return A(F,ve(K,{label:$[k||"value"]}),{default:()=>[$[x||"label"]]})})}};return t(a)}};return()=>ze(A(Ba,ve({ref:c},(()=>{const a=["schema","isCol","autoSetPlaceholder","isCustom","model"],B={...S(m)};for(const I in B)a.indexOf(I)!==-1&&delete B[I];return B})(),{model:e.isCustom?e.model:f,class:Co}),{default:()=>{const{isCustom:a}=S(m);return a?ge(o,"default"):(()=>{let B;const{isCol:I}=S(m);return I?A(Da,{gutter:20},rl(B=z())?B:{default:()=>[B]}):z()})()}}),[[Ea,e.vLoading]])}}),Mo=Wa(To,[["__scopeId","data-v-0023c241"]]);export{Mo as _,ge as g};
