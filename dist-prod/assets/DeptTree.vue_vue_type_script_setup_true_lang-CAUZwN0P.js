import{d as k,r as o,aw as v,n as y,o as x,c as g,g as c,f as r,w,u as l,k as _,ca as T,F as V,H as b,T as D}from"./index-DPENBzsb.js";import{g as U}from"./index-BUzABQZW.js";import{d as j,h as C}from"./tree-Cts6wVCK.js";const F={class:"head-container"},H={class:"head-container"},N=k({name:"SystemUserDeptTree",__name:"DeptTree",emits:["node-click"],setup(R,{emit:d}){const a=o(""),n=o([]),t=o(),i=(e,s)=>!e||s.name.includes(e),p=async e=>{u("node-click",e)},u=d;return v(a,e=>{t.value.filter(e)}),y(async()=>{await(async()=>{const e=await U();n.value=[],n.value.push(...C(e))})()}),(e,s)=>{const m=b,f=D;return x(),g(V,null,[c("div",F,[r(f,{modelValue:l(a),"onUpdate:modelValue":s[0]||(s[0]=h=>_(a)?a.value=h:null),class:"mb-20px",clearable:"",placeholder:"\u8BF7\u8F93\u5165\u90E8\u95E8\u540D\u79F0"},{prefix:w(()=>[r(m,{icon:"ep:search"})]),_:1},8,["modelValue"])]),c("div",H,[r(l(T),{ref_key:"treeRef",ref:t,data:l(n),"expand-on-click-node":!1,"filter-node-method":i,props:l(j),"default-expand-all":"","highlight-current":"","node-key":"id",onNodeClick:p},null,8,["data","props"])])],64)}}});export{N as _};
